<core:FragmentDefinition
    xmlns="sap.m"
    xmlns:core="sap.ui.core">
    <ResponsivePopover
        title="Adicionar Itens: {Descricao}"
        class="sapUiPopupWithPadding"
        contentWidth="480px"
        contentHeight="480px"
        placement="Left" >

        <beginButton>
            <Button text="{view>/sTextoBotaoSeguinte}" type="Emphasized" press="onSeguinte" />
        </beginButton>

        <endButton>
            <Button text="Cancelar" press="onCancel" />
        </endButton>

        <content>
            <NavContainer
                initialPage='selecaoFornecedores'
                id="navCon2">

                <Page
                    id="selecaoItens"
                    navButtonPress="onNavBack"
                    showNavButton="true"
                    title="Itens Possiveis">
                    <subHeader>
                        <Toolbar>
                            <SearchField
                                search="onSearch"
                                width="100%" />
                        </Toolbar>
                    </subHeader>

                    <Table alternateRowColors="true" width="100%" noDataText="No data" mode="MultiSelect" showSeparators="All" growing="true" growingThreshold="20" growingScrollToLoad="true" itemPress="onGrupoListaSelected" items="{/ItemNegociacaoSet}" id='listItens'>

                        <columns>

                            <Column width="auto" hAlign="Left" vAlign="Top" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
                                <header>
                                    <Text text="Fornecedor" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/>
                                </header>
                                <footer/>
                            </Column>

                            <Column width="auto" hAlign="Left" vAlign="Top" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
                                <header>
                                    <Text text="UF" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/>
                                </header>
                                <footer/>
                            </Column>

                            <Column width="auto" hAlign="Left" vAlign="Top" minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline" mergeDuplicates="false">
                                <header>
                                    <Text text="Material" width="auto" maxLines="1" wrapping="false" textAlign="Begin" textDirection="Inherit"/>
                                </header>
                                <footer/>
                            </Column>

                        </columns>

                        <items>

                            <ColumnListItem type="Inactive">

                                <cells>

                                    <Text text="{FornecedorID}" width="auto" maxLines="3" wrapping="true" textAlign="Begin" textDirection="Inherit"/>
                                    <Text text="{CentroID}" width="auto" maxLines="3" wrapping="true" textAlign="Begin" textDirection="Inherit"/>
                                    <Text text="{ProdutoID}" width="auto" maxLines="3" wrapping="true" textAlign="Begin" textDirection="Inherit"/>

                                </cells>
                            </ColumnListItem>

                        </items>
                    </Table>

                </Page>

                <Page
                    id="selecaoFornecedores"
                    showNavButton="false"
                    title="Selecione Fornecedores">
                    <subHeader>
                        <Toolbar>
                            <SearchField
                                search="onSearch"
                                width="100%" />
                        </Toolbar>
                    </subHeader>
                    <List
                        mode="MultiSelect"
                        selectionChange="onSelectionChange"
                        id="listFornecedores"
                        growing="true"
                        growingThreshold="6"
                        growingScrollToLoad="true"
                        items="{/ItemNegociacaoSet}" >

                        <infoToolbar>
                            <Toolbar
                                >
                                <Label text="Fornecedores selecionados: {view>/fornecedoresSelecionados}" wrapping="true"/>
                            </Toolbar>
                        </infoToolbar>

                        <StandardListItem
                            title="Fornecedor {ID}"
                            description="{FornecedorID}, {ProdutoID}, {CentroID}"
                            />
                    </List>
                </Page>

                <Page
                    id="selecaoMateriais"
                    showNavButton="true"
                    navButtonPress="onNavBack"
                    title="Selecione Materiais">
                    <subHeader>
                        <Toolbar>
                            <SearchField
                                search="onSearch"
                                width="100%" />
                        </Toolbar>
                    </subHeader>
                    <List
                        mode="MultiSelect"
                        selectionChange="onSelectionChange"
                        id="listMateriais"
                        growing="true"
                        growingThreshold="6"
                        growingScrollToLoad="true"
                        items="{/ItemNegociacaoSet}" >

                        <infoToolbar>
                            <Toolbar
                                >
                                <Label text="Materiais selecionados: {view>/materiaisSelecionados}" wrapping="true"/>
                            </Toolbar>
                        </infoToolbar>

                        <StandardListItem
                            title="Material {ID}"
                            description="{FornecedorID}, {ProdutoID}, {CentroID}"
                            />
                    </List>
                </Page>

                <Page
                    id="selecaoCentros"
                    showNavButton="true"
                    navButtonPress="onNavBack"
                    title="Selecione Centros">
                    <subHeader>
                        <Toolbar>
                            <SearchField
                                search="onSearch"
                                width="100%" />
                        </Toolbar>
                    </subHeader>
                    <List
                        mode="MultiSelect"
                        selectionChange="onSelectionChange"
                        id="listCentros"
                        growing="true"
                        growingThreshold="6"
                        growingScrollToLoad="true"
                        items="{/ItemNegociacaoSet}" >

                        <infoToolbar>
                            <Toolbar
                                >
                                <Label text="Centros selecionados: {view>/centrosSelecionados}" wrapping="true"/>
                            </Toolbar>
                        </infoToolbar>

                        <StandardListItem
                            title="Centro {ID}"
                            description="{FornecedorID}, {ProdutoID}, {CentroID}"
                            />
                    </List>
                </Page>




            </NavContainer>
        </content>
    </ResponsivePopover>
</core:FragmentDefinition>
