<core:FragmentDefinition
    xmlns="sap.m"
    xmlns:core="sap.ui.core">
    <ResponsivePopover
        title="Criar Negociação"
        class="sapUiPopupWithPadding"
        contentWidth="320px"
        contentHeight="400px"
        placement="Top" >

        <beginButton>
            <Button text="Criar" type="Emphasized" enabled="{view>/criacao/isCriacaoPossivel}" press="onCriarDocumentoNegociacao" />
        </beginButton>

        <endButton>
            <Button text="Cancelar" press="onCancelCriarNegociacao" />
        </endButton>

        <content>
            <NavContainer
                initialPage='tiposNegociacaoPage'
                id="navContainerCriarNegociacao">

                <Page
                    id="tiposNegociacaoPage"
                    title="Selecionar Tipo de Negociação">

                   <List
                        id="tiposList"
                        items="{/TipoNegociacaoSet}" >
                        <StandardListItem
                            icon="{
                                path: 'ID',
                                formatter: '.formatter.tipoNegociacaoIcon'
                                }"
                            title="{ID}"
                            description="{Descricao}"
                            type="Active"
                            press="onTipoNegociacaoPressed"
                            />
                    </List>

                </Page>

                <Page
                    id="bandeirasPage"
                    showNavButton="true"
                    navButtonPress="onNavBackCriacaoNegociacao"
                    title="Selecionar Bandeira">

                   <List
                        id="bandeirasList"
                        items="{/BandeiraSet}" >
                        <StandardListItem
                            title="{ID}"
                            description="{Nome}"
                            type="Active"
                            press="onBandeiraPressed"
                            />
                    </List>

               </Page>


               <Page
                    id="canaisPage"
                    showNavButton="true"
                    navButtonPress="onNavBackCriacaoNegociacao"
                    title="Selecionar Canais">

                   <List
                        mode="MultiSelect"
                        selectionChange="onSelectionChangeCanais"
                        id="canaisList"
                        items="{/CanalSet}" >
                        <StandardListItem
                            title="{ID}"
                            description="{Nome}"
                            type="Active"
                            />
                    </List>

                </Page>


            </NavContainer>
        </content>




    </ResponsivePopover>
</core:FragmentDefinition>

