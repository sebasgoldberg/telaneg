<core:FragmentDefinition
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:form="sap.ui.layout.form">
    <Dialog
        id="addItemAbrangenciaDialog"
        title="Adicionar {abrangencia/Descricao}"
        contentWidth="400px"
        contentHeight="500px"
        >
		<subHeader>
			<Toolbar>
				<SearchField
                    id="searchFieldItemOrg"
					search="onFilterConfirm"
					width="100%" />
			</Toolbar>
		</subHeader>

        <beginButton>
            <Button text="Selecionar" type="Emphasized"
            press="onSelecionar" />
        </beginButton>

        <endButton>
            <Button text="Cancelar" press="onFechar" />
        </endButton>

        <content>

            <VBox visible="{= ${TipoAbrangencia} === 'L' }">
                <FacetFilter
                    id="facetFilterLojas"
                    type="Simple"
                    showPersonalization="true"
                    showReset="true"
                    reset="onFilterReset"
                    confirm="onFilterConfirm"
                    lists="">
                    <lists>
                        <FacetFilterList
                            title="UF"
                            key="UFID"
                            mode="MultiSelect"
                            items="{path:'bandeira/ufs', templateShareable: 'true'}"
                            >
                            <items>
                                <FacetFilterItem
                                    text="{ID}"
                                    key="{ID}"
                                    />
                            </items>
                        </FacetFilterList>
                        <FacetFilterList
                            title="Centro Ref."
                            key="CentroReferenciaID"
                            mode="MultiSelect"
                            items="{path:'bandeira/centrosReferencia', templateShareable: 'true'}"
                            >
                            <items>
                                <FacetFilterItem
                                    text="{ID}"
                                    key="{ID}"
                                    />
                            </items>
                        </FacetFilterList>
                        <FacetFilterList
                            title="Grupos Lojas"
                            key="GrupoID"
                            mode="MultiSelect"
                            items="{path:'bandeira/gruposLojas', templateShareable: 'true'}"
                            growing='true'
                            growingThreshold='15'
                            growingScrollToLoad='true'
                            >
                            <items>
                                <FacetFilterItem
                                    text="{Nome}"
                                    key="{ID}"
                                    />
                            </items>
                        </FacetFilterList>
                    </lists>
                </FacetFilter>

                <List
                    growing="true"
                    growingThreshold="30"
                    growingScrollToLoad="true"
                    mode="MultiSelect"
                    id="lojasList"
                    items="{bandeira/lojas}" >
                    <StandardListItem
                        title="{ID}"
                        description="{Nome} [{UFID}]"
                        type="Active"
                        />
                </List>

            </VBox>

            <VBox visible="{= ${TipoAbrangencia} === 'G' }">
                <FacetFilter
                    id="facetFilterGrupos"
                    type="Simple"
                    showPersonalization="true"
                    showReset="true"
                    reset="onFilterReset"
                    confirm="onFilterConfirm"
                    lists="">
                    <lists>
                        <FacetFilterList
                            title="Centro Ref."
                            key="CentroReferenciaID"
                            mode="MultiSelect"
                            items="{path:'bandeira/centrosReferencia', templateShareable: 'true'}"
                            >
                            <items>
                                <FacetFilterItem
                                    text="{ID}"
                                    key="{ID}"
                                    />
                            </items>
                        </FacetFilterList>
                        <FacetFilterList
                            title="UF"
                            key="UFID"
                            mode="MultiSelect"
                            items="{path:'bandeira/ufs', templateShareable: 'true'}"
                            >
                            <items>
                                <FacetFilterItem
                                    text="{ID}"
                                    key="{ID}"
                                    />
                            </items>
                        </FacetFilterList>
                    </lists>
                </FacetFilter>

                <List
                    growing="true"
                    growingThreshold="30"
                    growingScrollToLoad="true"
                    mode="MultiSelect"
                    id="gruposList"
                    items="{bandeira/gruposLojas}" >
                    <StandardListItem
                        title="{Nome}"
                        description="{Descricao}"
                        type="Active"
                        />
                </List>

            </VBox>

            <VBox visible="{= ${TipoAbrangencia} === 'U' }">

                <List
                    growing="true"
                    growingThreshold="30"
                    growingScrollToLoad="true"
                    mode="MultiSelect"
                    id="ufsList"
                    items="{bandeira/ufs}" >
                    <StandardListItem
                        title="{ID}"
                        description=""
                        type="Active"
                        />
                </List>

            </VBox>

            <VBox visible="{= ${TipoAbrangencia} === 'R' }">

                <List
                    growing="true"
                    growingThreshold="30"
                    growingScrollToLoad="true"
                    mode="MultiSelect"
                    id="centrosReferenciaList"
                    items="{bandeira/centrosReferencia}" >
                    <StandardListItem
                        title="{ID}"
                        description="{Nome}"
                        type="Active"
                        />
                </List>

            </VBox>

        </content>
    </Dialog>
</core:FragmentDefinition>



