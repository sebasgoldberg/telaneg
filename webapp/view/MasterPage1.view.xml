<mvc:View xmlns:sim="simplifique.telaneg.control" xmlns:mvc="sap.ui.core.mvc" controllerName="simplifique.telaneg.controller.MasterPage1" xmlns="sap.m">
    <Page title="Negociações" showHeader="true" showFooter="true" showNavButton="true">
        <subHeader>
                    <Toolbar visible="true" enabled="true" width="" design="Solid">
                        <content>
                            <SearchField value="" placeholder="Buscar" showSearchButton="true" visible="true" width="100%" search="_onSearchFieldSearch" />
                        </content>
                    </Toolbar>
        </subHeader>
        <content>
            <List id="sap_List_Page_0-content-sap_m_List-1" mode="SingleSelectMaster" width="100%" footerText="" backgroundDesign="Solid" showSeparators="All" growing="true" growingThreshold="5" growingScrollToLoad="true" itemPress="_onListItemPress"
                items="{
                    path:'/NegociacaoSet',
                    templateShareable:true,
                     parameters:{expand:'tipoNegociacao,bandeira'}
                    }">
                <infoToolbar />
                <items>
                    <ObjectListItem intro="{ID} [{bandeira/Nome}]" title="{Descricao}"
                        icon="{
                            path: 'tipoNegociacao/ID',
                            formatter: '.formatter.tipoNegociacaoIcon'
                            }"
                        number="{
                            path: 'Margem2',
                            type: 'sap.ui.model.odata.type.Decimal',
                            constraints: { scale: 2 }
                            }"
                        numberUnit="%"
                        numberState="{
                            parts: [ {path: 'Margem2'}, {path: 'MargemTeorica'}],
                            formatter: '.formatter.margemStatus'
                            }"
                        type="Active" selected="false" showMarkers="false" press="_onObjectListItemPress">
                        <attributes>
                            <ObjectAttribute title="{Usuario}" text="{path: 'Data', type: 'sap.ui.model.type.Date', formatOptions: { UTC: true, style: 'short' }}" active="false" />
                            <ObjectAttribute title="" text="{Status}" active="false" />
                        </attributes>
                        <firstStatus>
                            <ObjectStatus
                                text="M1: {
                                    path: 'Margem1',
                                    type: 'sap.ui.model.odata.type.Decimal',
                                    constraints: { scale: 2 }
                                    } %"
                                state="{
                                    parts: [ {path: 'Margem1'}, {path: 'MargemTeorica'} ],
                                    formatter: '.formatter.margemStatus'
                                    }"
                                    />
                       </firstStatus>
                       <secondStatus>
                            <ObjectStatus
                                text="IC: {
                                    path: 'IC',
                                    type: 'sap.ui.model.odata.type.Decimal',
                                    constraints: { scale: 2 }
                                    } %"
                                state="{
                                    parts: [ {path: 'IC'} ],
                                    formatter: '.formatter.icStatus'
                                    }" />
 
                       </secondStatus>
                    </ObjectListItem>
                </items>
            </List>
        </content>
        <footer>
            <Bar design="Auto">
                <contentLeft />
                <contentMiddle />
                <contentRight>
                    <Button text="Nova Negociação" type="Emphasized" icon="sap-icon://add" iconFirst="true" press="onCreateNegociacao" />
                </contentRight>
            </Bar>
        </footer>
        <headerContent />
    </Page>
</mvc:View>
